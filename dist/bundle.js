(()=>{function O(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),a.push.apply(a,r)}return a}function P(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?O(Object(a),!0).forEach(function(r){H(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function H(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function K(t){return function(e){if(Array.isArray(e))return A(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,a){if(!!e){if(typeof e=="string")return A(e,a);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A(e,a)}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function A(t,e){(e==null||e>t.length)&&(e=t.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=t[a];return r}function U(t){var e="";t==="lowerCase"?e="abcdefghijklmnopqrstuvwxyz0123456789":t==="upperCase"?e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789":t==="symbol"&&(e=`,.?/\\(^)![]{}*&^%$#'"`);var a=e.split("");return a[Math.floor(Math.random()*a.length)]}function Z(t){return!!t&&t.nodeType===1&&t instanceof Element}function G(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a={text:"",iterations:8,fps:30,onComplete:function(){}},r=P(P({},a),e);if(!Z(t))throw new TypeError("Expected element to be a valid HTML element.");for(var o=r.text&&typeof r.text=="string"?r.text.split(""):t.textContent.split(""),u=[],l=[],i=0;i<o.length;i+=1){var s=o[i];/\s/.test(s)?u[i]="space":(/[a-z]/.test(s)?u[i]="lowerCase":/[A-Z]/.test(s)?u[i]="upperCase":u[i]="symbol",l.push(i))}t.textContent="";var m=null;return function c(f){var b=K(o),g=l.length;if(f>g)typeof r.onComplete=="function"&&r.onComplete(t);else{for(var w=Math.max(f,0);w<g;w+=1)w<f+r.iterations?b[l[w]]=U(u[l[w]]):b[l[w]]="";t.textContent=b.join(""),m=setTimeout(function(){c(f+1)},1e3/r.fps)}}(-r.iterations),function(){clearTimeout(m),m=null}}var k=G;var Q=[{category:"jazz",name:"Radio Swiss Jazz",stream:"//stream.srg-ssr.ch/m/rsj/aacp_96"},{category:"jazz funk",name:"Secret Agent",stream:"//ice1.somafm.com/secretagent-128-mp3"},{category:"jazz funk",name:"NRK Jazz",stream:"//lyd.nrk.no/nrk_radio_jazz_mp3_h"},{category:"jazz",name:"The Pittsburgh Jazz Channel",stream:"//pubmusic.streamguys1.com/wzum-aac"},{category:"jazz",name:"1000 Jazzhits",stream:"//1000jazzhits.stream.laut.fm/1000jazzhits"}],z=Q;var N=[],p,T;function D(t){let e=p,a=()=>{};p=a,j(a);let r=t(()=>{_(a),p=void 0});return p=e,r}function L(t){let e=p;p=void 0;let a=t();return p=e,a}function d(t){function e(a){if(arguments.length===0)return p&&!e.__o.has(p)&&(e.__o.add(p),p.u.push(e)),t;if(T)return e.t===N&&T.push(e),e.t=a,a;t=a;let r=p;return p=void 0,e.o=new Set(e.__o),e.o.forEach(o=>o.i=!1),e.o.forEach(o=>{o.i||o()}),p=r,t}return e.$o=1,e.__o=new Set,e.t=N,e}function B(t,e){function a(){let o=p;return p&&p.__c.push(a),_(a),a.i=!0,p=a,e=t(e),p=o,e}function r(){return a.i?p&&a.u.forEach(o=>o()):e=a(),e}return t.l=a,j(a),a(),r.$o=1,r}function V(t){return p&&p.v.push(t),t}function x(t){return B(t),()=>_(t.l)}function _(t){t.__c.forEach(_),t.u.forEach(e=>{e.__o.delete(t),e.o&&e.o.delete(t)}),t.v.forEach(e=>e()),j(t)}function j(t){t.u=[],t.__c=[],t.v=[]}var I=(t,e,a,r)=>{let o={};for(let u=1;u<e.length;u++){let l=e[u],i=typeof l=="number"?a[l]:l,s=e[++u];if(s===1)r[0]=i;else if(s===3)r[1]=Object.assign(r[1]||{},i);else if(s===5)(r[1]=r[1]||{})[e[++u]]=i;else if(s===6){let m=e[++u],c=(r[1]=r[1]||{})[m],f=o[m];f||typeof i!="function"&&typeof c!="function"||(f=c&&[c]||[],r[1][m]=function(){let b="";for(var g=0;g<f.length;g++)b+=typeof f[g]=="function"?f[g].call(this):f[g];return b}),f?f.push(i):r[1][m]+=i+""}else if(s){let m=()=>t.apply(null,I(t,i,a,["",null]));r.push(typeof r[0]=="function"?m:m())}else r.push(i)}return r},W=function(t){let e,a,r=1,o="",u="",l=[0],i=s=>{r===1&&(s||(o=o.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?l.push(s||o,0):r===3&&(s||o)?(l.push(s||o,1),r=2):r===2&&o==="..."&&s?l.push(s,3):r===2&&o&&!s?l.push(!0,5,o):r>=5&&((o||!s&&r===5)&&(l.push(o,r,a),r=6),s&&(l.push(s,r,a),r=6)),o=""};for(let s=0;s<t.length;s++){s&&(r===1&&i(),i(s));for(let m=0;m<t[s].length;m++)e=t[s][m],r===1?e==="<"?(i(),l=[l],r=3):o+=e:r===4?o==="--"&&e===">"?(r=1,o=""):o=e+o[0]:u?e===u?u="":o+=e:e==='"'||e==="'"?u=e:e===">"?(i(),r=1):r&&(e==="="?(r=5,a=o,o=""):e==="/"&&(r<5||t[s][m+1]===">")?(i(),r===3&&(l=l[0]),r=l,(l=l[0]).push(r,2),r=0):e===" "||e==="	"||e===`
`||e==="\r"?(i(),r=2):o+=e),r===3&&o==="!--"&&(r=4,l=l[0])}return i(),l},J=new Map,X=function(t){let e=J.get(this);return e||(e=new Map,J.set(this,e)),e=I(this,e.get(t)||(e.set(t,e=W(t)),e),arguments,[]),e.length>1?e:e[0]},Y=function(){let t=X.apply(this,arguments);if(t)return Array.isArray(t)?this(t):typeof t=="object"?t:this([t])},$=function(){let t=Y.bind(this);return(this.wrap||t).apply(t,arguments)};var n={},ee=[];function R(t){return this.t&&this.t[t.type](t)}n.h=(...t)=>{let e,a=r=>{if(r!=null)if(typeof r=="string")e?n.add(e,r):e=n.s?document.createElementNS("http://www.w3.org/2000/svg",r):document.createElement(r);else if(Array.isArray(r))e||(e=document.createDocumentFragment()),r.forEach(a);else if(r instanceof Node)e?n.add(e,r):e=r;else if(typeof r=="object")n.property(e,r,null,n.s);else if(typeof r=="function")if(e){let o=n.add(e,"");n.insert(e,r,o)}else e=r.apply(null,t.splice(1));else n.add(e,""+r)};return t.forEach(a),e},n.insert=(t,e,a,r,o)=>(t=a&&a.parentNode||t,o=o||r instanceof Node&&r,e===r||(r&&typeof r!="string"||!(typeof e=="string"||typeof e=="number"&&(e+=""))?typeof e=="function"?n.subscribe(()=>{r=n.insert(t,e.call({el:t,endMark:a}),a,r,o)}):(a?r&&(o||(o=r.o&&r.o.nextSibling||a.previousSibling),n.rm(t,o,a)):t.textContent="",r=null,e&&e!==!0&&(r=n.add(t,e,a))):(r!=null&&t.firstChild?a?(a.previousSibling||t.lastChild).data=e:t.firstChild.data=e:a?n.add(t,e,a):t.textContent=e,r=e)),r),n.property=(t,e,a,r,o)=>{if(e!=null)if(!a||a==="attrs"&&(r=!0))for(a in e)n.property(t,e[a],a,r,o);else a[0]!=="o"||a[1]!=="n"||e.$o?typeof e=="function"?n.subscribe(()=>{n.property(t,e.call({el:t,name:a}),a,r,o)}):o?t.style.setProperty(a,e):r||a.slice(0,5)==="data-"||a.slice(0,5)==="aria-"?t.setAttribute(a,e):a==="style"?typeof e=="string"?t.style.cssText=e:n.property(t,e,null,r,!0):(a==="class"&&(a+="Name"),t[a]=e):((u,l,i)=>{l=l.slice(2).toLowerCase(),i?u.addEventListener(l,R):u.removeEventListener(l,R),(u.t||(u.t={}))[l]=i})(t,a,e)},n.add=(t,e,a)=>{let r=(o=>{let{childNodes:u}=o;if(u&&o.nodeType===11)return u.length<2?u[0]:{o:n.add(o,"",u[0])}})(e=(o=>typeof o=="string"?document.createTextNode(o):o instanceof Node?o:n.h(ee,o))(e))||e;return t.insertBefore(e,a&&a.parentNode&&a),r},n.rm=(t,e,a)=>{for(;e&&e!==a;){let r=e.nextSibling;t===e.parentNode&&t.removeChild(e),e=r}},n.subscribe=x,n.cleanup=V,n.root=D,n.sample=L,n.hs=(...t)=>{let e=n.s;n.s=!0;let a=q(...t);return n.s=e,a};var q=(...t)=>n.h.apply(n.h,t),te=(...t)=>n.hs.apply(n.hs,t),y=(...t)=>$.apply(q,t),v=(...t)=>$.apply(te,t);var re=()=>v`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"/></svg>`,S=re;var ae=()=>v`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278zM4.858 1.311A7.269 7.269 0 0 0 1.025 7.71c0 4.02 3.279 7.276 7.319 7.276a7.316 7.316 0 0 0 5.205-2.162c-.337.042-.68.063-1.029.063-4.61 0-8.343-3.714-8.343-8.29 0-1.167.242-2.278.681-3.286z"/><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"/></svg>`,C=ae;var oe=()=>v`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"/></svg>`,E=oe;var ne=()=>v`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5zm5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5z"/></svg>`,F=ne;var le=()=>y`<li class="playing"><span class="playing__bar playing__bar1"></span><span class="playing__bar playing__bar2"></span><span class="playing__bar playing__bar3"></span></li>`,M=le;var ie=y`<span aria-busy="true"></span>`,se=()=>{let t=!0,e=d("light");playBtn=d(E),source=d(z[0].stream),station=d(z[0].name),vol=d(.25),showVol=d(Math.floor(vol()*100)),icon=d(t?S:C),anim=d(null),document.title=station(),x(()=>{document.documentElement.setAttribute("data-theme",`${e()}`)});let a=c=>{c.preventDefault(),t=!t,e(t?"light":"dark"),icon(t?S:C)},r=c=>{c.preventDefault(),anim(null),h.pause(),source(c.target.getAttribute("data-source")),station(c.target.getAttribute("data-name")),h.src=source(),document.title=station(),k(document.querySelector("li strong"),{iterations:12,fps:60,onComplete:()=>{i()}})},o=c=>{c.preventDefault(),vol(c.target.value),showVol(Math.floor(vol()*100)),h.volume=vol(),document.title=`${station()} | vol. ${showVol()}  %`},u=c=>{c.preventDefault(),h.volume<.01||h.paused?anim(null):anim(M)},l=c=>{c.preventDefault(),i()},i=()=>{h.paused?(h.readyState<2?anim(ie):anim(null),h.play(),h.onplaying=()=>{playBtn(F),h.volume>.01?anim(M):anim(null)}):(h.pause(),h.onpause=()=>{playBtn(E),anim(null)})},s=y`<article><nav><ul><li><a href="#" onclick=${l} data-play>${playBtn}</a></li><li><strong>${station}</strong></li>${anim}</ul><ul><li><a href="#" onclick=${a}>${icon}</a></li></ul></nav><audio src=${source} preload="none"/><input type="range" min="0.00" max="1.00" step=".01" value=${vol} oninput=${o} onchange=${u} id="volume" name="volume" data-tooltip="vol.${showVol} %" /><details><summary>stations</summary><section><ul>${()=>z.map(c=>y`<li><a href="#" data-source="${c.stream}" data-name="${c.name}" onclick=${r}>${c.name}</a> <sup><mark>${c.category}</mark></sup></li>`)}</ul></section><label>volume ${showVol} %</label></details></article>`;return y`<main class="container"><${s}/></main>`};document.body.append(y`<${se}/>`);var h=document.querySelector("audio");h.volume=vol();})();
